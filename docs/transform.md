---
hide:
  - toc
---

変形ツールとは、
メニューの「レイヤー」の「変形」の中の「__自由な変形__」や「__移動拡大回転__」での操作中のツールのことです。

「ツール」ウィンドウの中の「__スナップ__」は、 4 つの頂点位置をキャンバス内のピクセル位置に移動します。
例えば、移動させた後に、「スナップ」をしなかった場合、頂点位置が、
キャンバス内のピクセルとピクセルの間に存在する場合があります。

この場合、お互いのピクセルに色が分散されます。結果として、ぼやけることになります。
なめらかにきれいにぼやけたほうがいい場合もありますが、ぼやけさせたくない場合は、
移動させた後に、「スナップ」ボタンをクリックします。

現在、変形の操作中は、キャンバスの回転と左右反転表示をすることはできません。
キャンバスの移動とズームはできます。


## 「自由な変形」における操作

変形開始時に、変形領域の中心にある ◇ のマークをアンカーと呼びます。

### アンカーの上にカーソルがある場合の操作

+ アンカーのみ動かすことができます

### 変形領域の外にカーソルがある場合の操作

+ Ctrl + ドラッグで、アンカーを回転の中心として変形領域を回転させることができます

+ ドラッグで、変形領域の 4 つの頂点の中心を、回転の中心として変形領域を回転させることができます

### 変形領域の中にカーソルがある場合の操作

+ Shift + ドラッグで、変形領域の 4 つの頂点を、水平方向のみまたは垂直方向のみ動かすことができます。
左右のいずれかの方向でドラッグを開始すると水平方向のみに、上下のいずれかの方向なら垂直方向のみになります

+ ドラッグで、変形領域の 4 つの頂点を、ドラッグした量だけ自由に動かすことができます

### 変形領域の左上・左下・右上・右下の 4 つの頂点( □ のマーク)の中のいずれかの頂点の上にカーソルがある場合の操作

+ Shift + Alt + ドラッグで、変形領域の中心を固定して、上下左右の辺を均一に拡大縮小させることができます

+ Shift + ドラッグで、ドラッグを開始するその頂点を、対角線側の頂点との直線上に動かすことができます

+ Alt + ドラッグで、変形領域の中心を固定して、拡大縮小させることができます。回転もできます

+ Ctrl + ドラッグで、ドラッグを開始するその頂点だけを、ドラッグした量だけ自由に動かすことができます

+ ドラッグで、ドラッグを開始するその頂点を、そのまま動かし、
両サイドの頂点を対角線側の頂点との直線に沿って動かすことができます

### 変形領域の上下左右のいずれかの辺の上にカーソルがある場合の操作

+ Ctrl + Shift + ドラッグで、ドラッグしている辺を、その辺と直線上にのみ動かすことができます

+ Ctrl + ドラッグで、ドラッグしている辺を、その辺のみ自由に動かすことができます

+ Alt + ドラッグで、ドラッグしている辺を、その辺とその反対側の辺を直線上にのみ動かすことができます

+ ドラッグで、ドラッグしている辺を、直線上にのみ動かすことができます


## 「移動拡大回転」における操作

基本的には、「移動拡大回転」ではなく「自由な変形」のほうが操作しやすいので便利ですが、
例えば、ちょうど 50 % になるように縮小したい場合やちょうど 120 % になるように拡大したい場合など、
数値を指定して変形させたい時のために、「移動拡大回転」を用意しています。

変形開始時に、変形領域の中心にある ◇ のマークをアンカーと呼びます。

### 変形領域の外にカーソルがある場合の操作

+ ドラッグで、アンカーを回転の中心として変形領域を回転させることができます

### 変形領域の中にカーソルがある場合の操作

+ Shift + ドラッグで、変形領域の 4 つの頂点を、水平方向のみまたは垂直方向のみ動かすことができます。
左右のいずれかの方向でドラッグを開始すると水平方向のみに、上下のいずれかの方向なら垂直方向のみになります

+ ドラッグで、変形領域の 4 つの頂点を、ドラッグした量だけ自由に動かすことができます

### 変形領域の左上・左下・右上・右下の 4 つの頂点( □ のマーク)の中のいずれかの頂点の上にカーソルがある場合の操作

+ Shift + ドラッグで、均一に拡大縮小させることができます

+ ドラッグで、自由に拡大縮小させることができます

### 変形領域の上下左右のいずれかの辺の上にカーソルがある場合の操作

+ Ctrl + ドラッグで、ドラッグしている辺を、平行四辺形のようにスライドさせることができます

+ ドラッグで、ドラッグしている辺が上下のいずれかなら、垂直方向のみ拡大縮小させることができます。
ドラッグしている辺が左右のいずれかなら、水平方向のみ拡大縮小させることができます

### 「移動拡大回転」における操作の注意点

頂点もしくは辺の上にカーソルがある場合の操作で、マイナスのスケールをした場合などの特定の状況下では、
直感的に操作できない状態になってしまいます。
この状態になってしまった場合は、「ツール」ウィンドウの中のパラメータで操作してください。


## 変形時のフィルター機能

メニューの「レイヤー」の「変形」の中の「自由な変形」や「移動拡大回転」での操作中は、
「フィルター」ウィンドウの中のパラメータを調節することで、様々なフィルターを適用することができます。

フィルターの効果は、変形領域内に限定されます。
そのため、フィルターの内容によっては、
フィルターの効果が長方形(変形領域)で切り取られているように、見えてしまう場合があります。

そういう場合のために、
「__自由な変形(キャンバスサイズ)__」と「__移動拡大回転(キャンバスサイズ)__」を用意しています。
この場合は、変形領域はキャンバスサイズとなります。
キャンバスの端でなければ、フィルターの効果が切り取られることはありません。


## 変形データの保存と読み込み

メニューの「レイヤー」の「変形」の中の「__自由な変形(キャンバスサイズ)__」または
「__移動拡大回転(キャンバスサイズ)__」の場合に限り、
「ツール」ウィンドウの「__保存__」ボタンで、現在の変形情報を保存することができます。

「ツール」ウィンドウの「__読込__」ボタンで、変形情報を復元することができます。

この機能は必要がなければ使う必要はありません。

保存した時のキャンバスの幅と高さと、読み込む時のキャンバスの幅と高さが同じでないと、
読み込むことができませんので注意してください。


## 複数のレイヤーを同じように変形させたい場合の操作の流れ

1. メニューの「レイヤー」の「変形」の中の「__自由な変形(キャンバスサイズ)__」または
「__移動拡大回転(キャンバスサイズ)__」をクリックします

1. 変形させて、「完了」ボタンをクリックする前に
「ツール」ウィンドウの中の「__保存__」ボタンをクリックして、変形情報を保存しておきます

1. 「完了」ボタンをクリックして、選択レイヤーへの変形を終了します

1. 別のレイヤーを選択して、メニューの「レイヤー」の「変形」の中の先ほどと同じ
「自由な変形(キャンバスサイズ)」または「移動拡大回転(キャンバスサイズ)」をクリックします

1. 「__読込__」ボタンをクリックして、さきほどの保存したファイルを読み込みます。
これで、先ほどの変形情報と全く同じ変形を復元できます

1. 「完了」ボタンをクリックして、このレイヤーへの変形を終了します


## ゆがみツールを使う流れ

1. 描画レイヤーを選択し、メニューの「レイヤー」をクリックし、「変形」から「__ゆがみツール__」をクリックします

1. キャンバス内をドラッグすると、描画した内容をゆがませることができます


ゆがみツールのモードは 6 種類です。

+ 「__押し込む__」は、ドラッグした方向に描画した内容を動かします
+ 「__再構築__」は、キャンバス内のクリックした位置を、ゆがみツールを開始した最初の状態に戻します
+ 「__膨張__」は、キャンバス内のクリックした位置の描画した内容を膨張させます
+ 「__縮小__」は、キャンバス内のクリックした位置に、描画した内容が収縮していきます
+ 「__左回転__」は、キャンバス内のクリックした位置を中心に、描画した内容を左回りにねじります
+ 「__右回転__」は、キャンバス内のクリックした位置を中心に、描画した内容を右回りにねじります

「ツール」ウィンドウの中の「__リセット__」ボタンをクリックすることで、
ゆがみツールを開始した最初の状態にキャンバス全体を戻します。

「ツール」ウィンドウの中の「__サイズ__」は 100 % にすると、キャンバス内をクリックする際の
ゆがみツールの効果範囲が、キャンバスサイズと同じ大きさになります。
1 % にすると、キャンバスサイズの 1 % の大きさの効果範囲になります。

「ツール」ウィンドウの中の「__強さ__」は、ゆがませる強さです。

ゆがみツールは、完全に GPU の処理能力に依存しています。
いわゆるゲーミングパソコンでは問題なく動作するはずですが、
そうではないパソコンでは、動作が遅くなる・ちらつきが生じる可能性があります。


## ゆがみツールの保存と読み込み

「ツール」ウィンドウの「__保存__」ボタンで、現在のゆがみ情報を保存することができます。

「ツール」ウィンドウの「__読込__」ボタンで、ゆがみ情報を復元することができます。

この機能は必要がなければ使う必要はありません。

保存した時のキャンバスの幅と高さと、読み込む時のキャンバスの幅と高さが同じでないと、
読み込むことができませんので注意してください。


## 複数のレイヤーを同じようにゆがませたい場合の操作の流れ

1. ゆがみツールでゆがませ、「完了」ボタンをクリックする前に
「ツール」ウィンドウの中の「__保存__」ボタンをクリックして、ゆがみ情報を保存しておきます

1. 「完了」ボタンをクリックして、選択レイヤーへのゆがみツールを終了します

1. 別のレイヤーを選択して、メニューの「レイヤー」の「変形」の中の「ゆがみツール」をクリックします

1. 「__読込__」ボタンをクリックして、さきほどの保存したファイルを読み込みます。
これで、先ほどのゆがみ情報と全く同じゆがみを復元できます

1. 「完了」ボタンをクリックして、このレイヤーへのゆがみツールを終了します
